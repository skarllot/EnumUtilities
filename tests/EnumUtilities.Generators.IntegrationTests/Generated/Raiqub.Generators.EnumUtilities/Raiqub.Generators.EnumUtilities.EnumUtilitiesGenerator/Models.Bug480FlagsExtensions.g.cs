// <auto-generated />
#nullable enable

using System;
using System.Runtime.CompilerServices;
using System.Threading;
using Raiqub.Generators.EnumUtilities.Formatters;

#pragma warning disable CS1591 // publicly visible type or member must be documented

namespace Raiqub.Generators.EnumUtilities.IntegrationTests.Models;

[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]
[global::System.CodeDom.Compiler.GeneratedCodeAttribute("Raiqub.Generators.EnumUtilities", "2.0.0.0")]
public static partial class Bug480FlagsExtensions
{
    /// <summary>Converts the value of this instance to its equivalent string representation.</summary>
    /// <returns>The string representation of the value of this instance.</returns>
    public static string ToStringFast(this Bug480Flags value)
    {
        return FormatFlagNames((int)value)
            ?? ((int)value).ToString();
    }

    /// <summary>Determines whether one or more bit fields are set in the current instance.</summary>
    /// <param name="flag">An enumeration value.</param>
    /// <returns><see langword="true"/> if the bit field or bit fields that are set in flag are also set in the current instance; otherwise, <see langword="false"/>.</returns>
    [MethodImpl(MethodImplOptions.AggressiveInlining)]
    public static bool HasFlagFast(this Bug480Flags value, Bug480Flags flag)
    {
        return (value & flag) == flag;
    }

    /// <summary>Calculates the number of characters produced by converting the specified value to string.</summary>
    /// <param name="value">The value to calculate the number of characters.</param>
    /// <returns>The number of characters produced by converting the specified value to string.</returns>
    public static int GetStringLength(this Bug480Flags value)
    {
        return FormatFlagNamesLength((int)value)
            ?? EnumNumericFormatter.GetStringLength((int)value);
    }

    /// <summary>Returns a boolean telling whether the value of this instance exists in the enumeration.</summary>
    /// <returns><c>true</c> if the value of this instance exists in the enumeration; <c>false</c> otherwise.</returns>
    public static bool IsDefined(this Bug480Flags value)
    {
        return (int)value switch
        {
            1 => true,
            2 => true,
            4 => true,
            8 => true,
            16 => true,
            32 => true,
            64 => true,
            128 => true,
            _ => false
        };
    }

    private static int? FormatFlagNamesLength(int value)
    {
        int? fastResult = GetNameLengthInlined(value);
        if (fastResult is not null)
        {
            return fastResult.Value;
        }

        if (value == 0)
        {
            return 1;
        }

        int count = 0, foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                count = checked(count + 15);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                count = checked(count + 14);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                count = checked(count + 16);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                count = checked(count + 19);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                count = checked(count + 3);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                count = checked(count + 7);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                count = checked(count + 11);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                count = checked(count + 9);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
        }

        if (value != 0)
        {
            return null;
        }

CountLength:
        const int separatorStringLength = 2;
        return checked(count + (separatorStringLength * (foundItemsCount - 1)));
    }

    private static readonly string[] s_formatNames = new string[8] { "CombinedEscapes", "JsonNameEscape", "EnumMemberQuoted", "EnumMemberBackslash", "Tab", "Newline", "DoubleQuote", "Backslash" };

    private static string? FormatFlagNames(int value)
    {
        string? result = GetNameInlined(value);
        if (result is null)
        {
            Span<int> foundItems = stackalloc int[8];
            if (TryFindFlagsNames(value, foundItems, out int foundItemsCount, out int resultLength))
            {
                result = EnumStringFormatter.WriteMultipleFoundFlagsNames(s_formatNames, foundItems.Slice(0, foundItemsCount), resultLength);
            }
        }

        return result;
    }

    private static bool TryFindFlagsNames(int value, Span<int> foundItems, out int foundItemsCount, out int resultLength)
    {
        resultLength = 0;
        foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                resultLength = checked(resultLength + 15);
                foundItems[foundItemsCount++] = 0;
                if (value == 0) return true;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                resultLength = checked(resultLength + 14);
                foundItems[foundItemsCount++] = 1;
                if (value == 0) return true;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                resultLength = checked(resultLength + 16);
                foundItems[foundItemsCount++] = 2;
                if (value == 0) return true;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                resultLength = checked(resultLength + 19);
                foundItems[foundItemsCount++] = 3;
                if (value == 0) return true;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                resultLength = checked(resultLength + 3);
                foundItems[foundItemsCount++] = 4;
                if (value == 0) return true;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                resultLength = checked(resultLength + 7);
                foundItems[foundItemsCount++] = 5;
                if (value == 0) return true;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                resultLength = checked(resultLength + 11);
                foundItems[foundItemsCount++] = 6;
                if (value == 0) return true;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                resultLength = checked(resultLength + 9);
                foundItems[foundItemsCount++] = 7;
                if (value == 0) return true;
            }
        }

        return value == 0;
    }

    private static int? GetNameLengthInlined(int value)
    {
        return value switch
        {
            0 => 1,
            1 => 9,
            2 => 11,
            4 => 7,
            8 => 3,
            16 => 19,
            32 => 16,
            64 => 14,
            128 => 15,
            _ => null
        };
    }

    private static string? GetNameInlined(int value)
    {
        return value switch
        {
            0 => "0",
            1 => "Backslash",
            2 => "DoubleQuote",
            4 => "Newline",
            8 => "Tab",
            16 => "EnumMemberBackslash",
            32 => "EnumMemberQuoted",
            64 => "JsonNameEscape",
            128 => "CombinedEscapes",
            _ => null
        };
    }

#if NET5_0_OR_GREATER
    /// <summary>Bitwise "ands" two enumerations and replaces the first value with the result, as an atomic operation.</summary>
    /// <param name="location">A variable containing the first value to be combined.</param>
    /// <param name="value">The value to be combined with the value at <paramref name="location" />.</param>
    /// <returns>The original value in <paramref name="location" />.</returns>
    public static Bug480Flags InterlockedAnd(this ref Bug480Flags location, Bug480Flags value)
    {
        ref int locationRaw = ref Unsafe.As<Bug480Flags, int>(ref location);
        int resultRaw = Interlocked.And(ref locationRaw, Unsafe.As<Bug480Flags, int>(ref value));
        return Unsafe.As<int, Bug480Flags>(ref resultRaw);
    }

    /// <summary>Bitwise "ors" two enumerations and replaces the first value with the result, as an atomic operation.</summary>
    /// <param name="location">A variable containing the first value to be combined.</param>
    /// <param name="value">The value to be combined with the value at <paramref name="location" />.</param>
    /// <returns>The original value in <paramref name="location" />.</returns>
    public static Bug480Flags InterlockedOr(this ref Bug480Flags location, Bug480Flags value)
    {
        ref int locationRaw = ref Unsafe.As<Bug480Flags, int>(ref location);
        int resultRaw = Interlocked.Or(ref locationRaw, Unsafe.As<Bug480Flags, int>(ref value));
        return Unsafe.As<int, Bug480Flags>(ref resultRaw);
    }
#endif

    /// <summary>Compares two enumerations for equality and, if they are equal, replaces the first value.</summary>
    /// <param name="location">The destination, whose value is compared with <paramref name="comparand" /> and possibly replaced.</param>
    /// <param name="value">The value that replaces the destination value if the comparison results in equality.</param>
    /// <param name="comparand">The value that is compared to the value at <paramref name="location" />.</param>
    /// <returns>The original value in <paramref name="location" />.</returns>
    public static Bug480Flags InterlockedCompareExchange(this ref Bug480Flags location, Bug480Flags value, Bug480Flags comparand)
    {
        ref int locationRaw = ref Unsafe.As<Bug480Flags, int>(ref location);
        int resultRaw = Interlocked.CompareExchange(ref locationRaw, Unsafe.As<Bug480Flags, int>(ref value), Unsafe.As<Bug480Flags, int>(ref comparand));
        return Unsafe.As<int, Bug480Flags>(ref resultRaw);
    }

    /// <summary>Sets an enumeration value to a specified value and returns the original value, as an atomic operation.</summary>
    /// <param name="location">The variable to set to the specified value.</param>
    /// <param name="value">The value to which the <paramref name="location" /> parameter is set.</param>
    /// <returns>The original value of <paramref name="location" />.</returns>
    public static Bug480Flags InterlockedExchange(this ref Bug480Flags location, Bug480Flags value)
    {
        ref int locationRaw = ref Unsafe.As<Bug480Flags, int>(ref location);
        int resultRaw = Interlocked.Exchange(ref locationRaw, Unsafe.As<Bug480Flags, int>(ref value));
        return Unsafe.As<int, Bug480Flags>(ref resultRaw);
    }

    public static string ToEnumMemberValue(this Bug480Flags value)
    {
        return FormatFlagEnumMemberValues((int)value)
            ?? ((int)value).ToString();
    }

    public static int GetEnumMemberValueStringLength(this Bug480Flags value)
    {
        return FormatFlagEnumMemberValuesLength((int)value)
            ?? EnumNumericFormatter.GetStringLength((int)value);
    }

    private static int? FormatFlagEnumMemberValuesLength(int value)
    {
        int? fastResult = GetEnumMemberValueLengthInlined(value);
        if (fastResult is not null)
        {
            return fastResult.Value;
        }

        if (value == 0)
        {
            return 1;
        }

        int count = 0, foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                count = checked(count + 15);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                count = checked(count + 14);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                count = checked(count + 8);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                count = checked(count + 13);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                count = checked(count + 3);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                count = checked(count + 7);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                count = checked(count + 11);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                count = checked(count + 9);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
        }

        if (value != 0)
        {
            return null;
        }

CountLength:
        const int separatorStringLength = 2;
        return checked(count + (separatorStringLength * (foundItemsCount - 1)));
    }

    private static readonly string[] s_formatEnumMemberValues = new string[8] { "combined\\escape", "JsonNameEscape", "\"quoted\"", "special\\value", "Tab", "Newline", "DoubleQuote", "Backslash" };

    private static string? FormatFlagEnumMemberValues(int value)
    {
        string? result = GetEnumMemberValueInlined(value);
        if (result is null)
        {
            Span<int> foundItems = stackalloc int[8];
            if (TryFindFlagsEnumMemberValues(value, foundItems, out int foundItemsCount, out int resultLength))
            {
                result = EnumStringFormatter.WriteMultipleFoundFlagsNames(s_formatEnumMemberValues, foundItems.Slice(0, foundItemsCount), resultLength);
            }
        }

        return result;
    }

    private static bool TryFindFlagsEnumMemberValues(int value, Span<int> foundItems, out int foundItemsCount, out int resultLength)
    {
        resultLength = 0;
        foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                resultLength = checked(resultLength + 15);
                foundItems[foundItemsCount++] = 0;
                if (value == 0) return true;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                resultLength = checked(resultLength + 14);
                foundItems[foundItemsCount++] = 1;
                if (value == 0) return true;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                resultLength = checked(resultLength + 8);
                foundItems[foundItemsCount++] = 2;
                if (value == 0) return true;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                resultLength = checked(resultLength + 13);
                foundItems[foundItemsCount++] = 3;
                if (value == 0) return true;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                resultLength = checked(resultLength + 3);
                foundItems[foundItemsCount++] = 4;
                if (value == 0) return true;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                resultLength = checked(resultLength + 7);
                foundItems[foundItemsCount++] = 5;
                if (value == 0) return true;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                resultLength = checked(resultLength + 11);
                foundItems[foundItemsCount++] = 6;
                if (value == 0) return true;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                resultLength = checked(resultLength + 9);
                foundItems[foundItemsCount++] = 7;
                if (value == 0) return true;
            }
        }

        return value == 0;
    }

    private static int? GetEnumMemberValueLengthInlined(int value)
    {
        return value switch
        {
            0 => 1,
            1 => 9,
            2 => 11,
            4 => 7,
            8 => 3,
            16 => 13,
            32 => 8,
            64 => 14,
            128 => 15,
            _ => null
        };
    }

    private static string? GetEnumMemberValueInlined(int value)
    {
        return value switch
        {
            0 => "0",
            1 => "Backslash",
            2 => "DoubleQuote",
            4 => "Newline",
            8 => "Tab",
            16 => "special\\value",
            32 => "\"quoted\"",
            64 => "JsonNameEscape",
            128 => "combined\\escape",
            _ => null
        };
    }

    public static string? GetDescription(this Bug480Flags value)
    {
        return (int)value switch
        {
            1 => "\\",
            2 => "\"",
            4 => "\n",
            8 => "\t",
            16 => "Custom value with backslash",
            32 => "Quoted enum value",
            64 => "JSON name with escape",
            128 => "All three attributes with escapes",
            _ => null
        };
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining)]
    public static string? ToJsonString(this Bug480Flags value)
    {
        return FormatFlagJsonStrings((int)value);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining)]
    public static int? GetJsonStringLength(this Bug480Flags value)
    {
        return FormatFlagJsonStringsLength((int)value);
    }

    private static int? FormatFlagJsonStringsLength(int value)
    {
        int? fastResult = GetJsonStringLengthInlined(value);
        if (fastResult is not null)
        {
            return fastResult.Value;
        }

        if (value == 0)
        {
            return 1;
        }

        int count = 0, foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                count = checked(count + 13);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                count = checked(count + 11);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                count = checked(count + 8);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                count = checked(count + 13);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                count = checked(count + 3);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                count = checked(count + 7);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                count = checked(count + 11);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                count = checked(count + 9);
                foundItemsCount++;
                if (value == 0) goto CountLength;
            }
        }

        if (value != 0)
        {
            return null;
        }

CountLength:
        const int separatorStringLength = 2;
        return checked(count + (separatorStringLength * (foundItemsCount - 1)));
    }

    private static readonly string[] s_formatJsonStrings = new string[8] { "json\\combined", "json\\escape", "\"quoted\"", "special\\value", "Tab", "Newline", "DoubleQuote", "Backslash" };

    private static string? FormatFlagJsonStrings(int value)
    {
        string? result = GetJsonStringInlined(value);
        if (result is null)
        {
            Span<int> foundItems = stackalloc int[8];
            if (TryFindFlagsJsonStrings(value, foundItems, out int foundItemsCount, out int resultLength))
            {
                result = EnumStringFormatter.WriteMultipleFoundFlagsNames(s_formatJsonStrings, foundItems.Slice(0, foundItemsCount), resultLength);
            }
        }

        return result;
    }

    private static bool TryFindFlagsJsonStrings(int value, Span<int> foundItems, out int foundItemsCount, out int resultLength)
    {
        resultLength = 0;
        foundItemsCount = 0;
        if (true)
        {
            if ((value & 128) == 128)
            {
                value -= 128;
                resultLength = checked(resultLength + 13);
                foundItems[foundItemsCount++] = 0;
                if (value == 0) return true;
            }
            if ((value & 64) == 64)
            {
                value -= 64;
                resultLength = checked(resultLength + 11);
                foundItems[foundItemsCount++] = 1;
                if (value == 0) return true;
            }
            if ((value & 32) == 32)
            {
                value -= 32;
                resultLength = checked(resultLength + 8);
                foundItems[foundItemsCount++] = 2;
                if (value == 0) return true;
            }
            if ((value & 16) == 16)
            {
                value -= 16;
                resultLength = checked(resultLength + 13);
                foundItems[foundItemsCount++] = 3;
                if (value == 0) return true;
            }
            if ((value & 8) == 8)
            {
                value -= 8;
                resultLength = checked(resultLength + 3);
                foundItems[foundItemsCount++] = 4;
                if (value == 0) return true;
            }
            if ((value & 4) == 4)
            {
                value -= 4;
                resultLength = checked(resultLength + 7);
                foundItems[foundItemsCount++] = 5;
                if (value == 0) return true;
            }
            if ((value & 2) == 2)
            {
                value -= 2;
                resultLength = checked(resultLength + 11);
                foundItems[foundItemsCount++] = 6;
                if (value == 0) return true;
            }
            if ((value & 1) == 1)
            {
                value -= 1;
                resultLength = checked(resultLength + 9);
                foundItems[foundItemsCount++] = 7;
                if (value == 0) return true;
            }
        }

        return value == 0;
    }

    private static int? GetJsonStringLengthInlined(int value)
    {
        return value switch
        {
            0 => 1,
            1 => 9,
            2 => 11,
            4 => 7,
            8 => 3,
            16 => 13,
            32 => 8,
            64 => 11,
            128 => 13,
            _ => null
        };
    }

    private static string? GetJsonStringInlined(int value)
    {
        return value switch
        {
            0 => "0",
            1 => "Backslash",
            2 => "DoubleQuote",
            4 => "Newline",
            8 => "Tab",
            16 => "special\\value",
            32 => "\"quoted\"",
            64 => "json\\escape",
            128 => "json\\combined",
            _ => null
        };
    }
}
